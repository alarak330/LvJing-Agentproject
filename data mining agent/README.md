# 数据挖掘智能体 (Data Mining Agent)

## 功能定位

数据挖掘智能体专注于**类案深度报告**的生成，与数据分析智能体（Data Analysis Agent）协作，提供深度的类案分析和报告生成能力。

## 核心功能：类案深度报告

### 1. 类案检索模块
- 基于案件事实、争议焦点、法条引用等多维度检索相似案件
- 支持向量相似度计算和语义匹配
- 与数据分析智能体协作获取候选案件数据

### 2. 相似度计算模块
- 多维度相似度计算（事实相似度、争议焦点相似度、法条相似度、案件类型相似度）
- 综合相似度评分和排序
- 相似度阈值过滤

### 3. 深度分析模块
- 案件对比分析（事实对比、法条适用对比、判决结果对比）
- 判决趋势分析（时间维度、地区维度、法院层级维度）
- 法条适用分析（法条引用频率、适用场景分析）
- 胜诉率分析（原告/被告胜诉率统计）

### 4. 报告生成模块
- 结构化报告生成（Markdown/Word/PDF）
- 报告章节：案件摘要、类案检索结果、相似度分析、深度对比、趋势分析、法条分析、建议
- 图表生成（相似度分布图、趋势图、对比表）

## 模块架构

```
data mining agent/
├── __init__.py
├── agent.py                    # 主智能体类
├── modules/
│   ├── __init__.py
│   ├── case_retrieval.py       # 类案检索模块
│   ├── similarity_calculator.py # 相似度计算模块
│   ├── deep_analyzer.py        # 深度分析模块
│   └── report_generator.py     # 报告生成模块
├── prompts/
│   ├── __init__.py
│   ├── retrieval_prompts.py    # 检索相关提示词
│   ├── analysis_prompts.py     # 分析相关提示词
│   └── report_prompts.py       # 报告生成提示词
└── utils/
    ├── __init__.py
    ├── text_embedding.py        # 文本向量化（可选）
    └── report_formatter.py      # 报告格式化工具
```

## 与数据分析智能体的协作

1. **数据获取**：从数据分析智能体获取候选案件数据
2. **需求传递**：接收用户对类案深度报告的需求
3. **结果返回**：将生成的深度报告返回给数据分析智能体或直接返回给用户

## 技术栈

- **LLM**: 使用 KIMI 模型（已在 `__init__.py` 中配置）
- **相似度计算**: 文本相似度、语义相似度
- **报告生成**: Markdown/Word/PDF 格式
- **数据源**: 从数据分析智能体或数据库获取

